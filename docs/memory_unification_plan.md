# ç»Ÿä¸€è®°å¿†ç³»ç»Ÿé›†æˆæ–¹æ¡ˆå¤§çº²

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æ•´åˆä¸‰ä¸ªç‹¬ç«‹çš„è®°å¿†ç³»ç»Ÿï¼Œæä¾›ç»Ÿä¸€çš„è®°å¿†æ£€ç´¢å’Œç®¡ç†æ¥å£ï¼š
- **Mnemosyne**ï¼šé•¿æœŸå¯¹è¯è®°å¿†ï¼ˆRAG + Milvusï¼‰
- **Knowledge Base**ï¼šçŸ¥è¯†åº“ï¼ˆRAG + å¤šç§å‘é‡æ•°æ®åº“ï¼‰
- **Self Learning**ï¼šè‡ªå­¦ä¹ è®°å¿†ï¼ˆè®°å¿†å›¾ + çŸ¥è¯†å›¾è°±ï¼‰

---

## ğŸ¯ è®¾è®¡ç›®æ ‡

### æ ¸å¿ƒç›®æ ‡
1. **ç»Ÿä¸€æ¥å£**ï¼šæä¾›å•ä¸€çš„è®°å¿†æ£€ç´¢æ¥å£ï¼Œå±è”½åº•å±‚å®ç°å·®å¼‚
2. **æ™ºèƒ½èåˆ**ï¼šè‡ªåŠ¨åˆå¹¶å¤šä¸ªç³»ç»Ÿçš„æ£€ç´¢ç»“æœï¼Œå»é‡å¹¶æ’åº
3. **æ•°æ®åŒæ­¥**ï¼šå®ç°è®°å¿†ç³»ç»Ÿé—´çš„æ•°æ®åŒæ­¥æœºåˆ¶
4. **å‘åå…¼å®¹**ï¼šä¸å½±å“ç°æœ‰æ’ä»¶çš„ç‹¬ç«‹è¿è¡Œ
5. **å¯é…ç½®**ï¼šæ”¯æŒçµæ´»é…ç½®å„ç³»ç»Ÿçš„å¯ç”¨/æƒé‡

### éç›®æ ‡
- ä¸å¼ºåˆ¶ç»Ÿä¸€å­˜å‚¨åç«¯ï¼ˆä¿æŒå„ç³»ç»Ÿç‹¬ç«‹æ€§ï¼‰
- ä¸ä¿®æ”¹ç°æœ‰æ’ä»¶çš„æ ¸å¿ƒé€»è¾‘ï¼ˆé€šè¿‡é€‚é…å™¨æ¨¡å¼é›†æˆï¼‰

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### 1. ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ç»Ÿä¸€è®°å¿†åè°ƒå™¨ (MemoryCoordinator)          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        ç»Ÿä¸€è®°å¿†æ¥å£ (UnifiedMemoryInterface)      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â†“                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Mnemosyne    â”‚ Knowledge    â”‚ Self Learning     â”‚   â”‚
â”‚  â”‚ Adapter      â”‚ Base Adapter â”‚ Adapter           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                      â†“                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        ç»“æœåˆå¹¶ä¸æ’åºå¼•æ“ (ResultMerger)          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“                    â†“                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Mnemosyne   â”‚    â”‚ Knowledge    â”‚    â”‚ Self Learning â”‚
â”‚   Plugin     â”‚    â”‚ Base Plugin  â”‚    â”‚   Plugin     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. æ ¸å¿ƒç»„ä»¶

#### 2.1 ç»Ÿä¸€è®°å¿†åè°ƒå™¨ (MemoryCoordinator)
- **ä½ç½®**ï¼šæ–°å»ºæ’ä»¶ `astrbot_plugin_unified_memory`
- **èŒè´£**ï¼š
  - ç®¡ç†æ‰€æœ‰è®°å¿†é€‚é…å™¨
  - åè°ƒå¤šç³»ç»Ÿæ£€ç´¢
  - ç»“æœåˆå¹¶ä¸æ’åº
  - é…ç½®ç®¡ç†

#### 2.2 è®°å¿†é€‚é…å™¨ (MemoryAdapter)
- **æ¥å£å®šä¹‰**ï¼šæŠ½è±¡åŸºç±» `IMemoryAdapter`
- **å®ç°ç±»**ï¼š
  - `MnemosyneAdapter`
  - `KnowledgeBaseAdapter`
  - `SelfLearningAdapter`

#### 2.3 ç»“æœåˆå¹¶å¼•æ“ (ResultMerger)
- **åŠŸèƒ½**ï¼š
  - å»é‡ï¼ˆåŸºäºå†…å®¹ç›¸ä¼¼åº¦ï¼‰
  - è¯„åˆ†èåˆï¼ˆå¤šç»´åº¦è¯„åˆ†ï¼‰
  - æ’åºï¼ˆç›¸å…³æ€§ã€é‡è¦æ€§ã€æ—¶é—´ï¼‰

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
astrbot_plugin_unified_memory/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ main.py                    # æ’ä»¶ä¸»å…¥å£
â”œâ”€â”€ metadata.yaml
â”œâ”€â”€ _conf_schema.json          # é…ç½®æ¶æ„
â”œâ”€â”€ requirements.txt
â”‚
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ coordinator.py         # MemoryCoordinator æ ¸å¿ƒç±»
â”‚   â”œâ”€â”€ interfaces.py          # æ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ result_merger.py      # ç»“æœåˆå¹¶å¼•æ“
â”‚   â””â”€â”€ config_manager.py     # é…ç½®ç®¡ç†
â”‚
â”œâ”€â”€ adapters/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base.py               # IMemoryAdapter åŸºç±»
â”‚   â”œâ”€â”€ mnemosyne.py          # Mnemosyne é€‚é…å™¨
â”‚   â”œâ”€â”€ knowledge_base.py     # Knowledge Base é€‚é…å™¨
â”‚   â””â”€â”€ self_learning.py      # Self Learning é€‚é…å™¨
â”‚
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ memory_result.py      # ç»Ÿä¸€è®°å¿†ç»“æœæ¨¡å‹
â”‚   â””â”€â”€ search_request.py     # æœç´¢è¯·æ±‚æ¨¡å‹
â”‚
â”œâ”€â”€ sync/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ sync_manager.py       # æ•°æ®åŒæ­¥ç®¡ç†å™¨
â”‚   â””â”€â”€ sync_strategies.py    # åŒæ­¥ç­–ç•¥
â”‚
â””â”€â”€ utils/
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ similarity.py          # ç›¸ä¼¼åº¦è®¡ç®—
    â””â”€â”€ scoring.py            # è¯„åˆ†ç®—æ³•
```

---

## ğŸ”Œ æ¥å£è®¾è®¡

### 1. ç»Ÿä¸€è®°å¿†æ¥å£

```python
class IMemoryAdapter(ABC):
    """è®°å¿†é€‚é…å™¨æ¥å£"""
    
    @abstractmethod
    async def search(
        self, 
        query: str,
        session_id: str = None,
        persona_id: str = None,
        top_k: int = 5,
        **kwargs
    ) -> List[MemoryResult]:
        """æœç´¢è®°å¿†"""
        pass
    
    @abstractmethod
    async def add_memory(
        self,
        content: str,
        session_id: str = None,
        persona_id: str = None,
        metadata: dict = None
    ) -> str:
        """æ·»åŠ è®°å¿†"""
        pass
    
    @abstractmethod
    def is_available(self) -> bool:
        """æ£€æŸ¥é€‚é…å™¨æ˜¯å¦å¯ç”¨"""
        pass
    
    @abstractmethod
    def get_system_name(self) -> str:
        """è·å–ç³»ç»Ÿåç§°"""
        pass
```

### 2. ç»Ÿä¸€è®°å¿†ç»“æœæ¨¡å‹

```python
@dataclass
class MemoryResult:
    """ç»Ÿä¸€è®°å¿†ç»“æœ"""
    content: str                    # è®°å¿†å†…å®¹
    source: str                     # æ¥æºç³»ç»Ÿ (mnemosyne/kb/self_learning)
    score: float                    # ç›¸å…³æ€§å¾—åˆ† (0-1)
    importance: float = 0.5         # é‡è¦æ€§å¾—åˆ† (0-1)
    timestamp: float = None         # æ—¶é—´æˆ³
    session_id: str = None          # ä¼šè¯ID
    persona_id: str = None          # äººæ ¼ID
    metadata: dict = None           # é¢å¤–å…ƒæ•°æ®
    
    def to_dict(self) -> dict:
        """è½¬æ¢ä¸ºå­—å…¸"""
        pass
    
    def get_combined_score(self, weights: dict) -> float:
        """è®¡ç®—ç»¼åˆå¾—åˆ†"""
        # score * weights['relevance'] + importance * weights['importance'] + ...
        pass
```

### 3. åè°ƒå™¨æ¥å£

```python
class MemoryCoordinator:
    """ç»Ÿä¸€è®°å¿†åè°ƒå™¨"""
    
    async def search_all(
        self,
        query: str,
        event: AstrMessageEvent,
        top_k_per_system: int = 5,
        total_top_k: int = 10,
        enabled_systems: List[str] = None
    ) -> List[MemoryResult]:
        """ä»æ‰€æœ‰ç³»ç»Ÿæ£€ç´¢å¹¶åˆå¹¶ç»“æœ"""
        pass
    
    async def add_memory_to_all(
        self,
        content: str,
        event: AstrMessageEvent,
        target_systems: List[str] = None
    ) -> dict:
        """å‘å¤šä¸ªç³»ç»Ÿæ·»åŠ è®°å¿†"""
        pass
    
    def get_available_systems(self) -> List[str]:
        """è·å–å¯ç”¨çš„è®°å¿†ç³»ç»Ÿ"""
        pass
```

---

## ğŸ”„ å·¥ä½œæµç¨‹

### 1. æ£€ç´¢æµç¨‹

```
ç”¨æˆ·æŸ¥è¯¢
    â†“
MemoryCoordinator.search_all()
    â†“
å¹¶è¡Œè°ƒç”¨å„é€‚é…å™¨
    â”œâ”€â†’ MnemosyneAdapter.search()
    â”œâ”€â†’ KnowledgeBaseAdapter.search()
    â””â”€â†’ SelfLearningAdapter.search()
    â†“
æ”¶é›†æ‰€æœ‰ç»“æœ
    â†“
ResultMerger.merge()
    â”œâ”€â†’ å»é‡ï¼ˆåŸºäºå†…å®¹ç›¸ä¼¼åº¦ï¼‰
    â”œâ”€â†’ è¯„åˆ†èåˆ
    â””â”€â†’ æ’åºï¼ˆç»¼åˆå¾—åˆ†ï¼‰
    â†“
è¿”å› Top-K ç»“æœ
```

### 2. æ·»åŠ è®°å¿†æµç¨‹

```
æ–°è®°å¿†å†…å®¹
    â†“
MemoryCoordinator.add_memory_to_all()
    â†“
æ ¹æ®é…ç½®å†³å®šç›®æ ‡ç³»ç»Ÿ
    â”œâ”€â†’ å¯¹è¯è®°å¿† â†’ Mnemosyne
    â”œâ”€â†’ çŸ¥è¯†å†…å®¹ â†’ Knowledge Base
    â””â”€â†’ å­¦ä¹ æ•°æ® â†’ Self Learning
    â†“
å¹¶è¡Œå†™å…¥å„ç³»ç»Ÿ
    â†“
è¿”å›å†™å…¥ç»“æœ
```

### 3. æ•°æ®åŒæ­¥æµç¨‹ï¼ˆå¯é€‰ï¼‰

```
å®šæ—¶ä»»åŠ¡ / æ‰‹åŠ¨è§¦å‘
    â†“
SyncManager.check_sync_needed()
    â†“
è¯†åˆ«éœ€è¦åŒæ­¥çš„æ•°æ®
    â”œâ”€â†’ Self Learning å­¦ä¹ åˆ°çš„è®°å¿† â†’ åŒæ­¥åˆ° Mnemosyne
    â”œâ”€â†’ Mnemosyne é‡è¦è®°å¿† â†’ åŒæ­¥åˆ° Knowledge Base
    â””â”€â†’ Knowledge Base çŸ¥è¯† â†’ æå–åˆ° Self Learning
    â†“
æ‰§è¡ŒåŒæ­¥ç­–ç•¥
    â†“
è®°å½•åŒæ­¥æ—¥å¿—
```

---

## âš™ï¸ é…ç½®è®¾è®¡

### é…ç½®æ–‡ä»¶ç»“æ„

```json
{
  "enable_unified_memory": true,
  "default_mode": "unified",  // unified / individual
  
  "systems": {
    "mnemosyne": {
      "enabled": true,
      "weight": 1.0,
      "top_k": 5,
      "auto_inject": true
    },
    "knowledge_base": {
      "enabled": true,
      "weight": 0.8,
      "top_k": 3,
      "auto_inject": true
    },
    "self_learning": {
      "enabled": true,
      "weight": 0.6,
      "top_k": 5,
      "auto_inject": false
    }
  },
  
  "merging": {
    "strategy": "weighted_fusion",  // weighted_fusion / rerank / simple_merge
    "weights": {
      "relevance": 0.4,
      "importance": 0.3,
      "recency": 0.2,
      "source": 0.1
    },
    "deduplication": {
      "enabled": true,
      "similarity_threshold": 0.85
    },
    "max_results": 10
  },
  
  "sync": {
    "enabled": false,
    "interval_hours": 24,
    "strategies": {
      "self_learning_to_mnemosyne": {
        "enabled": false,
        "importance_threshold": 0.7
      },
      "mnemosyne_to_kb": {
        "enabled": false,
        "importance_threshold": 0.8
      }
    }
  }
}
```

---

## ğŸš€ å®æ–½è®¡åˆ’

### é˜¶æ®µä¸€ï¼šåŸºç¡€æ¡†æ¶ï¼ˆ1-2å‘¨ï¼‰
1. âœ… åˆ›å»ºæ’ä»¶ç»“æ„
2. âœ… å®šä¹‰æ¥å£å’Œæ¨¡å‹
3. âœ… å®ç°åŸºç¡€åè°ƒå™¨
4. âœ… å®ç°ç»“æœåˆå¹¶å¼•æ“

### é˜¶æ®µäºŒï¼šé€‚é…å™¨å®ç°ï¼ˆ2-3å‘¨ï¼‰
1. âœ… å®ç° MnemosyneAdapter
2. âœ… å®ç° KnowledgeBaseAdapter
3. âœ… å®ç° SelfLearningAdapter
4. âœ… æµ‹è¯•å„é€‚é…å™¨

### é˜¶æ®µä¸‰ï¼šé›†æˆä¸ä¼˜åŒ–ï¼ˆ1-2å‘¨ï¼‰
1. âœ… é›†æˆåˆ° LLM è¯·æ±‚æµç¨‹
2. âœ… å®ç°å»é‡å’Œæ’åºç®—æ³•
3. âœ… æ€§èƒ½ä¼˜åŒ–
4. âœ… é”™è¯¯å¤„ç†

### é˜¶æ®µå››ï¼šæ•°æ®åŒæ­¥ï¼ˆå¯é€‰ï¼Œ1å‘¨ï¼‰
1. âœ… å®ç°åŒæ­¥ç®¡ç†å™¨
2. âœ… å®ç°åŒæ­¥ç­–ç•¥
3. âœ… æµ‹è¯•åŒæ­¥åŠŸèƒ½

### é˜¶æ®µäº”ï¼šæ–‡æ¡£ä¸æµ‹è¯•ï¼ˆ1å‘¨ï¼‰
1. âœ… ç¼–å†™ä½¿ç”¨æ–‡æ¡£
2. âœ… å•å…ƒæµ‹è¯•
3. âœ… é›†æˆæµ‹è¯•
4. âœ… æ€§èƒ½æµ‹è¯•

---

## ğŸ“ å…³é”®æŠ€æœ¯ç‚¹

### 1. é€‚é…å™¨æ¨¡å¼
- é€šè¿‡é€‚é…å™¨å°è£…å„ç³»ç»Ÿçš„å·®å¼‚
- æä¾›ç»Ÿä¸€çš„æ¥å£æŠ½è±¡
- æ”¯æŒåŠ¨æ€åŠ è½½å’Œå¸è½½

### 2. ç»“æœåˆå¹¶ç®—æ³•
- **å»é‡**ï¼šä½¿ç”¨æ–‡æœ¬ç›¸ä¼¼åº¦ï¼ˆTF-IDF + ä½™å¼¦ç›¸ä¼¼åº¦ï¼‰
- **è¯„åˆ†èåˆ**ï¼šåŠ æƒå¹³å‡ + å½’ä¸€åŒ–
- **æ’åº**ï¼šå¤šå› å­æ’åºï¼ˆç›¸å…³æ€§ã€é‡è¦æ€§ã€æ—¶é—´ã€æ¥æºï¼‰

### 3. å¼‚æ­¥å¹¶å‘
- ä½¿ç”¨ `asyncio.gather()` å¹¶è¡Œæ£€ç´¢
- è®¾ç½®è¶…æ—¶æœºåˆ¶
- ä¼˜é›…é™çº§ï¼ˆæŸä¸ªç³»ç»Ÿå¤±è´¥ä¸å½±å“å…¶ä»–ï¼‰

### 4. ç¼“å­˜æœºåˆ¶
- ç¼“å­˜é¢‘ç¹æŸ¥è¯¢çš„ç»“æœ
- ä½¿ç”¨ LRU ç¼“å­˜ç­–ç•¥
- æ”¯æŒç¼“å­˜å¤±æ•ˆ

---

## ğŸ” ä½¿ç”¨ç¤ºä¾‹

### 1. åœ¨ LLM è¯·æ±‚ä¸­è‡ªåŠ¨æ³¨å…¥

```python
@filter.on_llm_request()
async def unified_memory_injection(
    self, 
    event: AstrMessageEvent, 
    req: ProviderRequest
):
    """ç»Ÿä¸€è®°å¿†æ³¨å…¥"""
    coordinator = MemoryCoordinator.get_instance()
    
    # ä»æ‰€æœ‰ç³»ç»Ÿæ£€ç´¢
    memories = await coordinator.search_all(
        query=req.prompt,
        event=event,
        total_top_k=10
    )
    
    # æ ¼å¼åŒ–å¹¶æ³¨å…¥
    if memories:
        memory_context = format_memories(memories)
        req.contexts.append({
            "role": "system",
            "content": f"ç›¸å…³è®°å¿†ï¼š\n{memory_context}"
        })
```

### 2. æ‰‹åŠ¨æ£€ç´¢è®°å¿†

```python
coordinator = MemoryCoordinator.get_instance()

# æ£€ç´¢æ‰€æœ‰ç³»ç»Ÿçš„è®°å¿†
results = await coordinator.search_all(
    query="ç”¨æˆ·å–œæ¬¢ä»€ä¹ˆï¼Ÿ",
    event=event,
    enabled_systems=["mnemosyne", "self_learning"]
)

# åªæ£€ç´¢ç‰¹å®šç³»ç»Ÿ
mnemosyne_results = await coordinator.adapters["mnemosyne"].search(
    query="...",
    session_id="...",
    top_k=5
)
```

### 3. æ·»åŠ è®°å¿†åˆ°å¤šä¸ªç³»ç»Ÿ

```python
# è‡ªåŠ¨åˆ†å‘åˆ°åˆé€‚çš„ç³»ç»Ÿ
await coordinator.add_memory_to_all(
    content="ç”¨æˆ·å–œæ¬¢Pythonç¼–ç¨‹",
    event=event,
    target_systems=["mnemosyne", "self_learning"]
)
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. å‘åå…¼å®¹
- ç°æœ‰æ’ä»¶ç»§ç»­ç‹¬ç«‹è¿è¡Œ
- ç»Ÿä¸€è®°å¿†ç³»ç»Ÿä½œä¸ºå¯é€‰å¢å¼º
- é€šè¿‡é…ç½®å¼€å…³æ§åˆ¶

### 2. æ€§èƒ½è€ƒè™‘
- å¹¶è¡Œæ£€ç´¢é¿å…ä¸²è¡Œå»¶è¿Ÿ
- è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´
- ä½¿ç”¨ç¼“å­˜å‡å°‘é‡å¤æŸ¥è¯¢

### 3. é”™è¯¯å¤„ç†
- å•ä¸ªç³»ç»Ÿå¤±è´¥ä¸å½±å“æ•´ä½“
- è®°å½•è¯¦ç»†çš„é”™è¯¯æ—¥å¿—
- æä¾›é™çº§ç­–ç•¥

### 4. æ•°æ®ä¸€è‡´æ€§
- åŒæ­¥æœºåˆ¶éœ€è¦è°¨æ…è®¾è®¡
- é¿å…æ•°æ®é‡å¤å’Œå†²çª
- æ”¯æŒæ‰‹åŠ¨åŒæ­¥æ§åˆ¶

---

## ğŸ“Š é¢„æœŸæ•ˆæœ

### ä¼˜åŠ¿
1. âœ… **ç»Ÿä¸€æ¥å£**ï¼šç®€åŒ–è®°å¿†æ£€ç´¢é€»è¾‘
2. âœ… **æ™ºèƒ½èåˆ**ï¼šè‡ªåŠ¨åˆå¹¶å¤šæºè®°å¿†
3. âœ… **çµæ´»é…ç½®**ï¼šæ”¯æŒæŒ‰éœ€å¯ç”¨ç³»ç»Ÿ
4. âœ… **å‘åå…¼å®¹**ï¼šä¸å½±å“ç°æœ‰åŠŸèƒ½

### æŒ‡æ ‡
- æ£€ç´¢å‡†ç¡®ç‡æå‡ï¼šé€šè¿‡å¤šæºèåˆ
- å“åº”æ—¶é—´ï¼š< 500msï¼ˆå¹¶è¡Œæ£€ç´¢ï¼‰
- å†…å­˜å ç”¨ï¼š< 50MBï¼ˆé€‚é…å™¨å¼€é”€ï¼‰

---

## ğŸ”— ç›¸å…³æ–‡ä»¶

- `data/plugins/astrbot_plugin_mnemosyne/` - Mnemosyne æ’ä»¶
- `data/plugins/astrbot_plugin_knowledge_base/` - Knowledge Base æ’ä»¶
- `data/plugins/astrabot_plugin_self_learning/` - Self Learning æ’ä»¶
- `data/plugins/astrbot_plugin_group_chat_plus/utils/memory_injector.py` - ç°æœ‰è®°å¿†æ³¨å…¥å™¨

---

## ğŸ“… æ—¶é—´çº¿

- **Week 1-2**: åŸºç¡€æ¡†æ¶å¼€å‘
- **Week 3-5**: é€‚é…å™¨å®ç°
- **Week 6-7**: é›†æˆä¸ä¼˜åŒ–
- **Week 8**: æ•°æ®åŒæ­¥ï¼ˆå¯é€‰ï¼‰
- **Week 9**: æµ‹è¯•ä¸æ–‡æ¡£

**æ€»è®¡**: çº¦ 6-9 å‘¨

---

## âœ… ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. åˆ›å»ºæ’ä»¶ç›®å½•ç»“æ„
2. å®ç°åŸºç¡€æ¥å£å’Œæ¨¡å‹
3. å®ç°ç¬¬ä¸€ä¸ªé€‚é…å™¨ï¼ˆMnemosyneï¼‰ä½œä¸ºå‚è€ƒ
4. é€æ­¥å®Œå–„å…¶ä»–ç»„ä»¶


