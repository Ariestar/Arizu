# AstrBot 项目 .gitignore

# ============================================
# 敏感配置文件和密钥
# ============================================
# 主配置文件（包含 API keys）
data/cmd_config.json
data/mcp_server.json
data/plugins.json

# NapCat 配置文件（可能包含敏感信息）
napcat/config/*.json

# ============================================
# 数据库文件
# ============================================
# SQLite 数据库
*.db
*.db-shm
*.db-wal
*.sqlite
*.sqlite3

# 数据库目录
data/data_v4.db*
data/knowledge_base/**/*.db*
data/self_learning_data/**/*.db*
data/plugin_data/**/*.db*

# ============================================
# 用户数据和运行时数据
# ============================================
# 聊天历史
data/chat_history/
data/plugin_data/astrbot_plugin_group_chat_plus/chat_history/

# 知识库数据（保留结构，排除内容）
data/knowledge_base/**/*.db*
data/knowledge_base/**/files/
data/knowledge_base/**/medias/

# 表情包数据（保留配置，排除图片）
data/memes_data/memes/
# 但保留 memes_data.json 配置文件

# 自学习数据
data/self_learning_data/**/*.db*
data/self_learning_data/**/*.log
data/self_learning_data/backups/

# 插件运行时数据
data/plugin_data/**/*.json
data/plugin_data/**/*.db*
data/plugin_data/**/*.txt
data/plugin_data/**/*.png
data/plugin_data/**/*.jpg
data/plugin_data/**/*.gif

# 用户偏好设置
data/plugin_data/astrbot_plugin_knowledge_base/user_collection_prefs.json

# ============================================
# 临时文件和缓存
# ============================================
# 临时文件目录
data/temp/
data/py_interpreter_workplace/
*.tmp
*.temp
*.cache

# 代码渲染临时文件
data/temp/code_render/

# LaTeX 渲染临时文件
temp_latex_renders/

# ============================================
# QQ 客户端相关文件
# ============================================
# QQ 客户端目录（包含用户数据）
ntqq/
napcat/config/*.json

# ============================================
# Python 相关
# ============================================
# Python 缓存
__pycache__/
*.py[cod]
*$py.class
*.so
.Python

# 虚拟环境
venv/
env/
ENV/
.venv

# 分发/打包
build/
dist/
*.egg-info/
.eggs/

# ============================================
# 日志文件
# ============================================
*.log
logs/
*.log.*

# ============================================
# IDE 和编辑器
# ============================================
# VSCode
.vscode/
*.code-workspace

# PyCharm
.idea/
*.iml
*.iws
*.ipr

# Sublime Text
*.sublime-project
*.sublime-workspace

# Vim
*.swp
*.swo
*~

# ============================================
# 操作系统文件
# ============================================
# macOS
.DS_Store
.AppleDouble
.LSOverride
._*

# Windows
Thumbs.db
ehthumbs.db
Desktop.ini
$RECYCLE.BIN/
*.lnk

# Linux
*~
.directory
.Trash-*

# ============================================
# Docker 相关
# ============================================
# Docker Compose override 文件
docker-compose.override.yml
.env
.env.local

# ============================================
# 编译和构建产物
# ============================================
# Web UI 构建产物（如果不需要版本控制）
# data/dist/

# ZIP 文件
*.zip
data/dashboard.zip

# ============================================
# 其他运行时文件
# ============================================
# 提醒文件
data/astrbot-reminder.json

# WebChat 图片
data/webchat/imgs/

# 崩溃文件
ntqq/crash_files/
*.crash

# Playwright 浏览器缓存
.playwright/
.ms-playwright/

# ============================================
# 配置文件模板（可选）
# ============================================
# 如果需要保留配置模板，可以创建：
# data/cmd_config.json.example
# data/mcp_server.json.example
# napcat/config/*.json.example

# ============================================
# 保留的文件和目录
# ============================================
# 插件源代码（保留）
!data/plugins/**/*.py
!data/plugins/**/*.md
!data/plugins/**/*.yaml
!data/plugins/**/*.json
!data/plugins/**/*.txt
!data/plugins/**/*.html
!data/plugins/**/*.css
!data/plugins/**/*.js
!data/plugins/**/*.png
!data/plugins/**/*.jpg
!data/plugins/**/*.svg
!data/plugins/**/*.gif
!data/plugins/**/*.ttf
!data/plugins/**/*.otf

# 配置模板目录结构（保留目录）
!data/config/
!napcat/config/

# Docker Compose 配置（保留）
!astrbot.yml

# README 和文档（保留）
!*.md
!*.txt
!*.rst

# ============================================
# 特殊情况
# ============================================
# 如果某些插件需要保留特定文件，可以在这里添加例外
# 例如：!data/plugins/某个插件/需要保留的文件
